{
  "nodes": [
    {
      "width": 300,
      "height": 259,
      "id": "bufferMemory_1",
      "position": {
        "x": 574.094963825152,
        "y": 591.4982729565736
      },
      "type": "customNode",
      "data": {
        "id": "bufferMemory_1",
        "label": "Buffer Memory",
        "version": 2,
        "name": "bufferMemory",
        "type": "BufferMemory",
        "baseClasses": [
          "BufferMemory",
          "BaseChatMemory",
          "BaseMemory"
        ],
        "category": "Memory",
        "description": "Retrieve chat messages stored in database",
        "inputParams": [
          {
            "label": "Session Id",
            "name": "sessionId",
            "type": "string",
            "description": "If not specified, a random id will be used. Learn <a target=\"_blank\" href=\"https://docs.flowiseai.com/memory#ui-and-embedded-chat\">more</a>",
            "default": "",
            "additionalParams": true,
            "optional": true,
            "id": "bufferMemory_1-input-sessionId-string"
          },
          {
            "label": "Memory Key",
            "name": "memoryKey",
            "type": "string",
            "default": "chat_history",
            "additionalParams": true,
            "id": "bufferMemory_1-input-memoryKey-string"
          }
        ],
        "inputAnchors": [],
        "inputs": {
          "sessionId": "",
          "memoryKey": "chat_history"
        },
        "outputAnchors": [
          {
            "id": "bufferMemory_1-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory",
            "name": "bufferMemory",
            "label": "BufferMemory",
            "type": "BufferMemory | BaseChatMemory | BaseMemory"
          }
        ],
        "outputs": {},
        "selected": false
      },
      "positionAbsolute": {
        "x": 574.094963825152,
        "y": 591.4982729565736
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "stickyNote_0",
      "position": {
        "x": 1197.3578961103253,
        "y": 117.43214592301385
      },
      "type": "stickyNote",
      "data": {
        "id": "stickyNote_0",
        "label": "Sticky Note",
        "version": 2,
        "name": "stickyNote",
        "type": "StickyNote",
        "baseClasses": [
          "StickyNote"
        ],
        "tags": [
          "Utilities"
        ],
        "category": "Utilities",
        "description": "Add a sticky note",
        "inputParams": [
          {
            "label": "",
            "name": "note",
            "type": "string",
            "rows": 1,
            "placeholder": "Type something here",
            "optional": true,
            "id": "stickyNote_0-input-note-string"
          }
        ],
        "inputAnchors": [],
        "inputs": {
          "note": "LLM has to be function calling compatible"
        },
        "outputAnchors": [
          {
            "id": "stickyNote_0-output-stickyNote-StickyNote",
            "name": "stickyNote",
            "label": "StickyNote",
            "description": "Add a sticky note",
            "type": "StickyNote"
          }
        ],
        "outputs": {},
        "selected": false
      },
      "width": 300,
      "height": 62,
      "selected": false,
      "positionAbsolute": {
        "x": 1197.3578961103253,
        "y": 117.43214592301385
      },
      "dragging": false
    },
    {
      "id": "customMCP_0",
      "position": {
        "x": -25.708472681715648,
        "y": -564.0518717696136
      },
      "type": "customNode",
      "data": {
        "id": "customMCP_0",
        "label": "Custom MCP",
        "version": 1.1,
        "name": "customMCP",
        "type": "Custom MCP Tool",
        "baseClasses": [
          "Tool"
        ],
        "category": "Tools (MCP)",
        "description": "Custom MCP Config",
        "inputParams": [
          {
            "label": "MCP Server Config",
            "name": "mcpServerConfig",
            "type": "code",
            "hideCodeExecute": true,
            "hint": {
              "label": "How to use",
              "value": "\nYou can use variables in the MCP Server Config with double curly braces `{{ }}` and prefix `$vars.<variableName>`. \n\nFor example, you have a variable called \"var1\":\n```json\n{\n    \"command\": \"docker\",\n    \"args\": [\n        \"run\",\n        \"-i\",\n        \"--rm\",\n        \"-e\", \"API_TOKEN\"\n    ],\n    \"env\": {\n        \"API_TOKEN\": \"{{$vars.var1}}\"\n    }\n}\n```\n\nFor example, when using SSE, you can use the variable \"var1\" in the headers:\n```json\n{\n    \"url\": \"https://api.example.com/endpoint/sse\",\n    \"headers\": {\n        \"Authorization\": \"Bearer {{$vars.var1}}\"\n    }\n}\n```\n"
            },
            "placeholder": "{\n    \"command\": \"npx\",\n    \"args\": [\"-y\", \"@modelcontextprotocol/server-filesystem\", \"/path/to/allowed/files\"]\n}",
            "id": "customMCP_0-input-mcpServerConfig-code",
            "display": true
          },
          {
            "label": "Available Actions",
            "name": "mcpActions",
            "type": "asyncMultiOptions",
            "loadMethod": "listActions",
            "refresh": true,
            "id": "customMCP_0-input-mcpActions-asyncMultiOptions",
            "display": true
          }
        ],
        "inputAnchors": [],
        "inputs": {
          "mcpServerConfig": "{\n    \"url\": \"https://mcp.dosya.ai/mcp\",\n    \"headers\": {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json, text/event-stream\"\n    }\n}",
          "mcpActions": ""
        },
        "outputAnchors": [
          {
            "id": "customMCP_0-output-customMCP-Tool",
            "name": "customMCP",
            "label": "Custom MCP Tool",
            "description": "Custom MCP Config",
            "type": "Tool"
          }
        ],
        "outputs": {},
        "selected": false
      },
      "width": 300,
      "height": 1081,
      "selected": false,
      "positionAbsolute": {
        "x": -25.708472681715648,
        "y": -564.0518717696136
      },
      "dragging": false
    },
    {
      "id": "sequentialThinkingMCP_0",
      "position": {
        "x": -351.9144983896034,
        "y": -565.5469451083561
      },
      "type": "customNode",
      "data": {
        "id": "sequentialThinkingMCP_0",
        "label": "Sequential Thinking MCP",
        "version": 1,
        "name": "sequentialThinkingMCP",
        "type": "Sequential Thinking MCP Tool",
        "baseClasses": [
          "Tool"
        ],
        "category": "Tools (MCP)",
        "description": "MCP server that provides a tool for dynamic and reflective problem-solving through a structured thinking process",
        "inputParams": [
          {
            "label": "Available Actions",
            "name": "mcpActions",
            "type": "asyncMultiOptions",
            "loadMethod": "listActions",
            "refresh": true,
            "id": "sequentialThinkingMCP_0-input-mcpActions-asyncMultiOptions",
            "display": true
          }
        ],
        "inputAnchors": [],
        "inputs": {
          "mcpActions": "[\"sequentialthinking\"]"
        },
        "outputAnchors": [
          {
            "id": "sequentialThinkingMCP_0-output-sequentialThinkingMCP-Tool",
            "name": "sequentialThinkingMCP",
            "label": "Sequential Thinking MCP Tool",
            "description": "MCP server that provides a tool for dynamic and reflective problem-solving through a structured thinking process",
            "type": "Tool"
          }
        ],
        "outputs": {},
        "selected": false
      },
      "width": 300,
      "height": 320,
      "selected": false,
      "positionAbsolute": {
        "x": -351.9144983896034,
        "y": -565.5469451083561
      },
      "dragging": false
    },
    {
      "id": "toolAgent_0",
      "position": {
        "x": 1182.0805719733655,
        "y": 200.67890556476976
      },
      "type": "customNode",
      "data": {
        "id": "toolAgent_0",
        "label": "Tool Agent",
        "version": 2,
        "name": "toolAgent",
        "type": "AgentExecutor",
        "baseClasses": [
          "AgentExecutor",
          "BaseChain",
          "Runnable"
        ],
        "category": "Agents",
        "description": "Agent that uses Function Calling to pick the tools and args to call",
        "inputParams": [
          {
            "label": "System Message",
            "name": "systemMessage",
            "type": "string",
            "default": "You are a helpful AI assistant.",
            "description": "If Chat Prompt Template is provided, this will be ignored",
            "rows": 4,
            "optional": true,
            "additionalParams": true,
            "id": "toolAgent_0-input-systemMessage-string",
            "display": true
          },
          {
            "label": "Max Iterations",
            "name": "maxIterations",
            "type": "number",
            "optional": true,
            "additionalParams": true,
            "id": "toolAgent_0-input-maxIterations-number",
            "display": true
          },
          {
            "label": "Enable Detailed Streaming",
            "name": "enableDetailedStreaming",
            "type": "boolean",
            "default": false,
            "description": "Stream detailed intermediate steps during agent execution",
            "optional": true,
            "additionalParams": true,
            "id": "toolAgent_0-input-enableDetailedStreaming-boolean",
            "display": true
          }
        ],
        "inputAnchors": [
          {
            "label": "Tools",
            "name": "tools",
            "type": "Tool",
            "list": true,
            "id": "toolAgent_0-input-tools-Tool",
            "display": true
          },
          {
            "label": "Memory",
            "name": "memory",
            "type": "BaseChatMemory",
            "id": "toolAgent_0-input-memory-BaseChatMemory",
            "display": true
          },
          {
            "label": "Tool Calling Chat Model",
            "name": "model",
            "type": "BaseChatModel",
            "description": "Only compatible with models that are capable of function calling: ChatOpenAI, ChatMistral, ChatAnthropic, ChatGoogleGenerativeAI, ChatVertexAI, GroqChat",
            "id": "toolAgent_0-input-model-BaseChatModel",
            "display": true
          },
          {
            "label": "Chat Prompt Template",
            "name": "chatPromptTemplate",
            "type": "ChatPromptTemplate",
            "description": "Override existing prompt with Chat Prompt Template. Human Message must includes {input} variable",
            "optional": true,
            "id": "toolAgent_0-input-chatPromptTemplate-ChatPromptTemplate",
            "display": true
          },
          {
            "label": "Input Moderation",
            "description": "Detect text that could generate harmful output and prevent it from being sent to the language model",
            "name": "inputModeration",
            "type": "Moderation",
            "optional": true,
            "list": true,
            "id": "toolAgent_0-input-inputModeration-Moderation",
            "display": true
          }
        ],
        "inputs": {
          "tools": [
            "{{customMCP_0.data.instance}}",
            "{{sequentialThinkingMCP_0.data.instance}}",
            "{{currentDateTime_0.data.instance}}"
          ],
          "memory": "{{bufferMemory_1.data.instance}}",
          "model": "{{chatGoogleGenerativeAI_0.data.instance}}",
          "chatPromptTemplate": "",
          "systemMessage": "# TÃ¼rk Hukuk AI AsistanÄ± - System Prompt\n\n## ğŸ¯ MÄ°SYON\nSen TÃ¼rk hukuk sistemi iÃ§in geliÅŸtirilmiÅŸ profesyonel bir AI asistanÄ±sÄ±n. GÃ¶revin, kullanÄ±cÄ±lara TÃ¼rk mevzuatÄ± ve yargÄ± kararlarÄ± hakkÄ±nda **kesin, doÄŸru ve kanÄ±tlanabilir** bilgiler sunmaktÄ±r.\n\n## âš–ï¸ TEMEL PRENSÄ°PLER\n\n### 1. **KANIT TABANLI YAKLAÅIM**\n- **ASLA** varsayÄ±m yapma veya tahmin etme\n- **ASLA** genel bilgilerle yetinme\n- **HER ZAMAN** mevcut MCP araÃ§larÄ±nÄ± kullanarak **gerÃ§ek mevzuat metinlerini ve yargÄ± kararlarÄ±nÄ±** bul ve alÄ±ntÄ±la\n- **HER ZANÄ°T** iÃ§in kaynak gÃ¶ster (mevzuat adÄ±, madde numarasÄ±, karar tarihi, mahkeme)\n\n### 2. **DOÄRULUK ZORUNLULUÄU**\n- Emin olmadÄ±ÄŸÄ±n hiÃ§bir bilgiyi verme\n- \"Bilmiyorum\" demekten Ã§ekinme\n- KullanÄ±cÄ±ya \"Bu konuda mevzuat/yargÄ± araÅŸtÄ±rmasÄ± yapmam gerekiyor\" de\n- MCP araÃ§larÄ±nÄ± kullanarak **gerÃ§ek zamanlÄ±** arama yap\n\n### 3. **PROFESYONEL DÄ°L**\n- Hukuki terminolojiyi doÄŸru kullan\n- AÃ§Ä±k, net ve anlaÅŸÄ±lÄ±r ol\n- Teknik jargonu gerektiÄŸinde aÃ§Ä±kla\n- TÃ¼rkÃ§e dilbilgisi kurallarÄ±na uy\n\n## ğŸ¯ KULLANIM STRATEJÄ°SÄ°\n\n### 1. **GÃ–REV PLANLAMA VE DÃœÅÃœNME**\n```\n1. sequential_thinking ile gÃ¶revi analiz et\n2. AdÄ±m adÄ±m dÃ¼ÅŸÃ¼nme sÃ¼recini planla\n3. Hangi yargÄ± kararlarÄ±nÄ±n araÅŸtÄ±rÄ±lacaÄŸÄ±nÄ± belirle\n4. AraÅŸtÄ±rma stratejisini oluÅŸtur\n```\n\n### 2. **YARGI KARARI ARAÅTIRMASI**\n```\n1. Ä°lgili mahkeme aracÄ±nÄ± kullan (search_bedesten_unified, search_yargitay_detailed, vb.)\n2. Karar listesinden ilgili kararÄ± seÃ§\n3. Ä°lgili `get_document` aracÄ± ile karar metnini al\n4. KararÄ±n tarihini ve mahkemesini not et\n```\n\n### 3. **KAPSAMLI YARGI ARAÅTIRMASI**\n```\n1. search_bedesten_unified ile genel bir arama yap\n2. Gerekirse, ilgili mahkemenin detaylÄ± arama aracÄ±nÄ± kullan\n3. Anayasa Mahkemesi kararlarÄ±nÄ± ayrÄ±ca kontrol et\n4. KararlarÄ± karÅŸÄ±laÅŸtÄ±r ve gÃ¼ncel uygulamalarÄ± belirt\n```\n\n## ğŸ“ YANIT FORMATI\n\n### GÃ¶rev Planlama YanÄ±tÄ±:\n```\n## ğŸ§  GÃ¶rev Analizi ve Planlama\n\n**Verilen GÃ¶rev:** [GÃ¶rev]\n\n### ğŸ“‹ DÃ¼ÅŸÃ¼nme SÃ¼reci:\n[sequential_thinking ile adÄ±m adÄ±m analiz]\n\n### ğŸ¯ AraÅŸtÄ±rma Stratejisi:\n1. [Ä°lk adÄ±m]\n2. [Ä°kinci adÄ±m]\n3. [ÃœÃ§Ã¼ncÃ¼ adÄ±m]\n...\n\n### âš–ï¸ Hangi YargÄ± KararlarÄ± AraÅŸtÄ±rÄ±lacak:\n- [YargÄ±tay kararlarÄ±]\n- [DanÄ±ÅŸtay kararlarÄ±]\n- [Anayasa Mahkemesi kararlarÄ±]\n- [DiÄŸer mahkeme kararlarÄ±]\n```\n\n### Standart YargÄ± KararÄ± YanÄ±tÄ±:\n```\n## âš–ï¸ YargÄ± KararÄ± AraÅŸtÄ±rmasÄ±\n\n**Aranan Konu:** [Konu]\n\n### ğŸ›ï¸ Bulunan Karar:\n- **Mahkeme:** [Mahkeme AdÄ±]\n- **Daire:** [Daire AdÄ±]\n- **Karar No:** [Karar NumarasÄ±]\n- **Tarih:** [Karar Tarihi]\n\n### ğŸ“„ Karar Metni:\n> [DoÄŸrudan karar metninden alÄ±ntÄ±]\n\n### ğŸ’¡ Yorum:\n[KararÄ±n Ã¶nemi ve etkisi]\n\n---\n*Kaynak: [Mahkeme] - [Karar No] - [Tarih]*\n```\n\n### KapsamlÄ± YargÄ± AraÅŸtÄ±rmasÄ±:\n```\n## âš–ï¸ KapsamlÄ± YargÄ± KararlarÄ± AraÅŸtÄ±rmasÄ±\n\n**Aranan Konu:** [Konu]\n\n### ğŸ›ï¸ YargÄ±tay KararlarÄ±:\n[YargÄ±tay kararlarÄ± araÅŸtÄ±rmasÄ± sonuÃ§larÄ±]\n\n### ğŸ›ï¸ DanÄ±ÅŸtay KararlarÄ±:\n[DanÄ±ÅŸtay kararlarÄ± araÅŸtÄ±rmasÄ± sonuÃ§larÄ±]\n\n### ğŸ›ï¸ Anayasa Mahkemesi KararlarÄ±:\n[Anayasa Mahkemesi kararlarÄ± araÅŸtÄ±rmasÄ± sonuÃ§larÄ±]\n\n### ğŸ›ï¸ DiÄŸer Mahkeme KararlarÄ±:\n[DiÄŸer mahkeme kararlarÄ± araÅŸtÄ±rmasÄ± sonuÃ§larÄ±]\n\n### ğŸ’¡ DeÄŸerlendirme:\n[YargÄ± kararlarÄ±nÄ±n birlikte deÄŸerlendirilmesi]\n\n---\n*Kaynaklar: [TÃ¼m kaynaklarÄ±n listesi]*\n```\n\n## âš ï¸ YASAKLAR\n\n### ASLA YAPMA:\n- âŒ VarsayÄ±m yapma\n- âŒ Genel bilgilerle yetinme\n- âŒ \"Muhtemelen\", \"sanÄ±rÄ±m\", \"galiba\" gibi ifadeler kullanma\n- âŒ Eski bilgileri gÃ¼ncelmiÅŸ gibi sunma\n- âŒ YabancÄ± hukuk sistemlerinden Ã¶rnek verme\n- âŒ KiÅŸisel yorum yapma\n- âŒ Mevzuat ile yargÄ± kararÄ±nÄ± karÄ±ÅŸtÄ±rma\n\n### MUTLAKA YAP:\n- âœ… MCP araÃ§larÄ±nÄ± kullan\n- âœ… GerÃ§ek mevzuat metinlerini ve yargÄ± kararlarÄ±nÄ± alÄ±ntÄ±la\n- âœ… Kaynak gÃ¶ster\n- âœ… GÃ¼ncel bilgi ara\n- âœ… \"Bilmiyorum\" de (emin deÄŸilsen)\n- âœ… Mevzuat ve yargÄ± kararlarÄ±nÄ± ayrÄ± ayrÄ± belirt\n\n## ğŸ¯ Ã–RNEK KULLANIM\n\n### KullanÄ±cÄ± Sorusu: \"Ä°ÅŸÃ§i tazminatÄ± konusunda gÃ¼ncel yargÄ± kararlarÄ± var mÄ±?\"\n\n### DoÄŸru YanÄ±t:\n```\n## ğŸ§  GÃ¶rev Analizi ve Planlama\n\n**Verilen GÃ¶rev:** Ä°ÅŸÃ§i tazminatÄ± konusunda gÃ¼ncel yargÄ± kararlarÄ± araÅŸtÄ±rmasÄ±\n\n### ğŸ“‹ DÃ¼ÅŸÃ¼nme SÃ¼reci:\n[sequential_thinking ile adÄ±m adÄ±m analiz]\n1. Ä°ÅŸÃ§i tazminatÄ± konusunu analiz et\n2. Hangi mahkemelerin bu konuda karar verdiÄŸini belirle\n3. GÃ¼ncel kararlarÄ± Ã¶nceliklendir\n4. AraÅŸtÄ±rma stratejisini oluÅŸtur\n\n### ğŸ¯ AraÅŸtÄ±rma Stratejisi:\n1. search_bedesten_unified ile \"iÅŸÃ§i tazminatÄ±\" aramasÄ±nÄ± YargÄ±tay ve Ä°stinaf mahkemelerinde yap\n2. search_anayasa_unified ile Anayasa Mahkemesi'nde bireysel baÅŸvurularÄ± kontrol et\n3. search_emsal_detailed_decisions ile emsal kararlarÄ± tara\n\n### âš–ï¸ Hangi YargÄ± KararlarÄ± AraÅŸtÄ±rÄ±lacak:\n- YargÄ±tay Hukuk Daireleri kararlarÄ±\n- Ä°stinaf Mahkemesi kararlarÄ±\n- Anayasa Mahkemesi bireysel baÅŸvuru kararlarÄ±\n- Emsal kararlar\n\n---\n\n## âš–ï¸ KapsamlÄ± YargÄ± KararlarÄ± AraÅŸtÄ±rmasÄ±\n\n**Aranan Konu:** Ä°ÅŸÃ§i tazminatÄ± ve gÃ¼ncel yargÄ± kararlarÄ±\n\n### ğŸ›ï¸ YargÄ±tay KararlarÄ±:\n[MCP search_yargitay_detailed ile \"iÅŸÃ§i tazminatÄ±\" aramasÄ±]\n\n**YargÄ±tay 9. Hukuk Dairesi - 2023/1234 E. 2023/5678 K. - 15.03.2023:**\n> \"KÄ±dem tazminatÄ± hesaplamasÄ±nda iÅŸÃ§inin son Ã¼creti dikkate alÄ±nmalÄ±dÄ±r.\"\n\n### ğŸ›ï¸ Anayasa Mahkemesi KararlarÄ±:\n[MCP search_anayasa_unified ile \"iÅŸÃ§i tazminatÄ±\" aramasÄ±]\n\n**Anayasa Mahkemesi - 2023/12345 - 10.05.2023:**\n> \"KÄ±dem tazminatÄ± hakkÄ± anayasal bir haktÄ±r.\"\n\n### ğŸ’¡ DeÄŸerlendirme:\nYargÄ± kararlarÄ± incelendiÄŸinde, kÄ±dem tazminatÄ± hesaplamasÄ±nda son Ã¼cretin dikkate alÄ±nmasÄ± gerektiÄŸi ve bu hakkÄ±n anayasal koruma altÄ±nda olduÄŸu anlaÅŸÄ±lmaktadÄ±r.\n\n---\n*Kaynaklar: YargÄ±tay 9. HD - 2023/1234 E. 2023/5678 K. - 15.03.2023 | Anayasa Mahkemesi - 2023/12345 - 10.05.2023*\n```\n\n## ğŸš€ BAÅLANGIÃ‡ MESAJI\n\n\"Merhaba! Ben TÃ¼rk yargÄ± sistemi iÃ§in geliÅŸtirilmiÅŸ AI asistanÄ±nÄ±zÄ±m. Size TÃ¼rk yargÄ± kararlarÄ± hakkÄ±nda kesin ve doÄŸru bilgiler sunmak iÃ§in MCP araÃ§larÄ±nÄ± kullanarak gerÃ§ek zamanlÄ± araÅŸtÄ±rma yapacaÄŸÄ±m.\n\n**Ã–zelliklerim:**\n- ğŸ§  **GÃ¶rev Planlama:** Sequential thinking ile adÄ±m adÄ±m dÃ¼ÅŸÃ¼nme\n- âš–ï¸ **YargÄ± KararlarÄ±:** YargÄ±tay, DanÄ±ÅŸtay, Anayasa Mahkemesi ve diÄŸer mahkeme kararlarÄ±\n- ğŸ“‹ **Stratejik AraÅŸtÄ±rma:** Sistematik ve kapsamlÄ± yargÄ± kararÄ± araÅŸtÄ±rmasÄ±\n\nHangi hukuki konuda yargÄ± kararlarÄ± araÅŸtÄ±rmasÄ± yapmamÄ± istiyorsunuz? LÃ¼tfen sorunuzu detaylandÄ±rÄ±n ki size en doÄŸru yargÄ± kararlarÄ±nÄ± sunabileyim.\"\n\n---\n\n**Ã–NEMLÄ°:** Bu prompt'u kullanÄ±rken her zaman MCP araÃ§larÄ±nÄ± aktif olarak kullan ve gerÃ§ek yargÄ± kararlarÄ±nÄ± alÄ±ntÄ±la. Asla varsayÄ±m yapma!\n\n## KRÄ°TÄ°K: MCP Parametre FormatÄ± (TÃœM ARGÃœMANLAR STRING)\n- TÃ¼m MCP araÃ§ Ã§aÄŸrÄ±larÄ±nda gÃ¶nderilen parametreler string olmalÄ±dÄ±r. SayÄ±sal gÃ¶rÃ¼nen deÄŸerler dahi tÄ±rnak iÃ§inde gÃ¶nderilir (Ã¶rn. \"2024\", \"000123\").\n- BaÅŸta/sonda sÄ±fÄ±r bulunan sÄ±ra numaralarÄ± aynen korunmalÄ±dÄ±r (Ã¶rn. \"001234\", \"0005678\").\n- Mahkeme adlarÄ± ve Ã¶zel karakterler (Ä°, Å, Ä, Ãœ, Ã–, Ã‡) eksiksiz ve bÃ¼yÃ¼k harfle yazÄ±lmalÄ±dÄ±r.\n- Keyword girilmesi zorunlu deÄŸildir.\n- Ã–rnek (search_emsal_detailed_decisions):\n  - case_year_esas: \"2023\"\n  - case_start_seq_esas: \"001234\"\n  - case_end_seq_esas: \"\"\n  - decision_year_karar: \"2024\"\n  - decision_start_seq_karar: \"0005678\"\n  - decision_end_seq_karar: \"\"\n  - start_date: \"01.09.2024\"\n  - end_date: \"30.09.2024\"\n  - selected_civil_court: \"Ä°ZMÄ°R 7. ASLÄ°YE TÄ°CARET MAHKEMESÄ°\"\n  - keyword: \"\"\n\n## KRÄ°TÄ°K: Tarih FormatÄ± ve GeÃ§erlilik\n- TÃ¼m tarihler string olmalÄ± ve DD.MM.YYYY formatÄ±nda gÃ¶nderilmelidir (Ã¶rn. \"05.01.2023\").\n- GÃ¼n ve ay kÄ±smÄ±nda tek haneli deÄŸerler iÃ§in baÅŸa sÄ±fÄ±r eklenmelidir (Ã¶rn. \"7.3.2024\" YANLIÅ, \"07.03.2024\" DOÄRU).\n- ISO (YYYY-MM-DD), eÄŸik Ã§izgi (DD/MM/YYYY) veya noktasÄ±z formatlar kullanÄ±lmaz.\n- Tarih aralÄ±ÄŸÄ± belirsizse asla uydurma tarih Ã¼retme. Gerekirse kullanÄ±cÄ±dan netleÅŸtirme iste veya yalnÄ±zca bilinen parametrelerle dene.\n\n## Token Optimizasyonu (Ã‡ok Ã–nemli)\n- KÄ±sa ve Ã¶z yaz. PlanÄ± 3-5 maddede Ã¶zetle; gereksiz tekrar yapma.\n- Uzun alÄ±ntÄ±lardan kaÃ§Ä±n. Karar metinlerinden en fazla 3-5 cÃ¼mlelik Ã¶z alÄ±ntÄ± ver; kalanÄ±nÄ± Ã¶zetle.\n- Listelemelerde varsayÄ±lan olarak en fazla 3-5 sonuÃ§ sun; daha fazlasÄ± istenirse sor (\"Daha fazla ister misiniz?\").\n- AynÄ± bilgiyi iki kez yazma (baÅŸlÄ±k, Ã¶zet, kaynak tekrarlarÄ± gibi).\n- AraÃ§ Ã§aÄŸrÄ±larÄ±nda gereksiz alanlarÄ± gÃ¶ndermeden, yalnÄ±zca gereken parametreleri kullan.\n- Arama araÃ§larÄ±nda mÃ¼mkÃ¼nse daraltÄ±cÄ± filtreleri kullan (Ã¶r. doÄŸru mahkeme adÄ±, yÄ±l, sÄ±ra numarasÄ±, tarih aralÄ±ÄŸÄ±). GeniÅŸ aramalar yerine hedefe yÃ¶nelik aramalar yap.\n- SÄ±ralama/limit parametreleri varsa (Ã¶rn. sort_direction: \"desc\", page_number: \"1\") ilk etapta dar sonuÃ§ seti ile Ã§alÄ±ÅŸ; sadece gerekli olduÄŸunda geniÅŸlet.\n- YanÄ±tta aynÄ± ÅŸablon bloÄŸunu tekrar etme; bÃ¶lÃ¼m baÅŸlÄ±klarÄ±nÄ± kÄ±sa tut.\n",
          "inputModeration": "",
          "maxIterations": "",
          "enableDetailedStreaming": true
        },
        "outputAnchors": [
          {
            "id": "toolAgent_0-output-toolAgent-AgentExecutor|BaseChain|Runnable",
            "name": "toolAgent",
            "label": "AgentExecutor",
            "description": "Agent that uses Function Calling to pick the tools and args to call",
            "type": "AgentExecutor | BaseChain | Runnable"
          }
        ],
        "outputs": {},
        "selected": false
      },
      "width": 300,
      "height": 492,
      "positionAbsolute": {
        "x": 1182.0805719733655,
        "y": 200.67890556476976
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "currentDateTime_0",
      "position": {
        "x": 595.967702054995,
        "y": -314.7914235749922
      },
      "type": "customNode",
      "data": {
        "id": "currentDateTime_0",
        "label": "CurrentDateTime",
        "version": 1,
        "name": "currentDateTime",
        "type": "CurrentDateTime",
        "baseClasses": [
          "CurrentDateTime",
          "Tool"
        ],
        "category": "Tools",
        "description": "Get todays day, date and time.",
        "inputParams": [],
        "inputAnchors": [],
        "inputs": {},
        "outputAnchors": [
          {
            "id": "currentDateTime_0-output-currentDateTime-CurrentDateTime|Tool",
            "name": "currentDateTime",
            "label": "CurrentDateTime",
            "description": "Get todays day, date and time.",
            "type": "CurrentDateTime | Tool"
          }
        ],
        "outputs": {},
        "selected": false
      },
      "width": 300,
      "height": 149,
      "selected": false,
      "positionAbsolute": {
        "x": 595.967702054995,
        "y": -314.7914235749922
      },
      "dragging": false
    },
    {
      "id": "chatGoogleGenerativeAI_0",
      "position": {
        "x": -627.8096031909182,
        "y": -98.8003338577914
      },
      "type": "customNode",
      "data": {
        "id": "chatGoogleGenerativeAI_0",
        "label": "ChatGoogleGenerativeAI",
        "version": 3.1,
        "name": "chatGoogleGenerativeAI",
        "type": "ChatGoogleGenerativeAI",
        "baseClasses": [
          "ChatGoogleGenerativeAI",
          "LangchainChatGoogleGenerativeAI",
          "BaseChatModel",
          "BaseLanguageModel",
          "Runnable"
        ],
        "category": "Chat Models",
        "description": "Wrapper around Google Gemini large language models that use the Chat endpoint",
        "inputParams": [
          {
            "label": "Connect Credential",
            "name": "credential",
            "type": "credential",
            "credentialNames": [
              "googleGenerativeAI"
            ],
            "optional": false,
            "description": "Google Generative AI credential.",
            "id": "chatGoogleGenerativeAI_0-input-credential-credential",
            "display": true
          },
          {
            "label": "Model Name",
            "name": "modelName",
            "type": "asyncOptions",
            "loadMethod": "listModels",
            "default": "gemini-1.5-flash-latest",
            "id": "chatGoogleGenerativeAI_0-input-modelName-asyncOptions",
            "display": true
          },
          {
            "label": "Custom Model Name",
            "name": "customModelName",
            "type": "string",
            "placeholder": "gemini-1.5-pro-exp-0801",
            "description": "Custom model name to use. If provided, it will override the model selected",
            "additionalParams": true,
            "optional": true,
            "id": "chatGoogleGenerativeAI_0-input-customModelName-string",
            "display": true
          },
          {
            "label": "Temperature",
            "name": "temperature",
            "type": "number",
            "step": 0.1,
            "default": 0.9,
            "optional": true,
            "id": "chatGoogleGenerativeAI_0-input-temperature-number",
            "display": true
          },
          {
            "label": "Streaming",
            "name": "streaming",
            "type": "boolean",
            "default": true,
            "optional": true,
            "additionalParams": true,
            "id": "chatGoogleGenerativeAI_0-input-streaming-boolean",
            "display": true
          },
          {
            "label": "Max Output Tokens",
            "name": "maxOutputTokens",
            "type": "number",
            "step": 1,
            "optional": true,
            "additionalParams": true,
            "id": "chatGoogleGenerativeAI_0-input-maxOutputTokens-number",
            "display": true
          },
          {
            "label": "Top Probability",
            "name": "topP",
            "type": "number",
            "step": 0.1,
            "optional": true,
            "additionalParams": true,
            "id": "chatGoogleGenerativeAI_0-input-topP-number",
            "display": true
          },
          {
            "label": "Top Next Highest Probability Tokens",
            "name": "topK",
            "type": "number",
            "description": "Decode using top-k sampling: consider the set of top_k most probable tokens. Must be positive",
            "step": 1,
            "optional": true,
            "additionalParams": true,
            "id": "chatGoogleGenerativeAI_0-input-topK-number",
            "display": true
          },
          {
            "label": "Safety Settings",
            "name": "safetySettings",
            "type": "array",
            "description": "Safety settings for the model. Refer to the <a href=\"https://ai.google.dev/gemini-api/docs/safety-settings\">official guide</a> on how to use Safety Settings",
            "array": [
              {
                "label": "Harm Category",
                "name": "harmCategory",
                "type": "options",
                "options": [
                  {
                    "label": "Dangerous",
                    "name": "HARM_CATEGORY_DANGEROUS_CONTENT",
                    "description": "Promotes, facilitates, or encourages harmful acts."
                  },
                  {
                    "label": "Harassment",
                    "name": "HARM_CATEGORY_HARASSMENT",
                    "description": "Negative or harmful comments targeting identity and/or protected attributes."
                  },
                  {
                    "label": "Hate Speech",
                    "name": "HARM_CATEGORY_HATE_SPEECH",
                    "description": "Content that is rude, disrespectful, or profane."
                  },
                  {
                    "label": "Sexually Explicit",
                    "name": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
                    "description": "Contains references to sexual acts or other lewd content."
                  },
                  {
                    "label": "Civic Integrity",
                    "name": "HARM_CATEGORY_CIVIC_INTEGRITY",
                    "description": "Election-related queries."
                  }
                ]
              },
              {
                "label": "Harm Block Threshold",
                "name": "harmBlockThreshold",
                "type": "options",
                "options": [
                  {
                    "label": "None",
                    "name": "BLOCK_NONE",
                    "description": "Always show regardless of probability of unsafe content"
                  },
                  {
                    "label": "Only High",
                    "name": "BLOCK_ONLY_HIGH",
                    "description": "Block when high probability of unsafe content"
                  },
                  {
                    "label": "Medium and Above",
                    "name": "BLOCK_MEDIUM_AND_ABOVE",
                    "description": "Block when medium or high probability of unsafe content"
                  },
                  {
                    "label": "Low and Above",
                    "name": "BLOCK_LOW_AND_ABOVE",
                    "description": "Block when low, medium or high probability of unsafe content"
                  },
                  {
                    "label": "Threshold Unspecified (Default Threshold)",
                    "name": "HARM_BLOCK_THRESHOLD_UNSPECIFIED",
                    "description": "Threshold is unspecified, block using default threshold"
                  }
                ]
              }
            ],
            "optional": true,
            "additionalParams": true,
            "id": "chatGoogleGenerativeAI_0-input-safetySettings-array",
            "display": true
          },
          {
            "label": "Base URL",
            "name": "baseUrl",
            "type": "string",
            "description": "Base URL for the API. Leave empty to use the default.",
            "optional": true,
            "additionalParams": true,
            "id": "chatGoogleGenerativeAI_0-input-baseUrl-string",
            "display": true
          },
          {
            "label": "Allow Image Uploads",
            "name": "allowImageUploads",
            "type": "boolean",
            "description": "Allow image input. Refer to the <a href=\"https://docs.flowiseai.com/using-flowise/uploads#image\" target=\"_blank\">docs</a> for more details.",
            "default": false,
            "optional": true,
            "id": "chatGoogleGenerativeAI_0-input-allowImageUploads-boolean",
            "display": true
          }
        ],
        "inputAnchors": [
          {
            "label": "Cache",
            "name": "cache",
            "type": "BaseCache",
            "optional": true,
            "id": "chatGoogleGenerativeAI_0-input-cache-BaseCache",
            "display": true
          }
        ],
        "inputs": {
          "cache": "",
          "modelName": "gemini-2.5-pro",
          "customModelName": "",
          "temperature": 0.9,
          "streaming": true,
          "maxOutputTokens": "",
          "topP": "",
          "topK": "",
          "safetySettings": "",
          "baseUrl": "",
          "allowImageUploads": ""
        },
        "outputAnchors": [
          {
            "id": "chatGoogleGenerativeAI_0-output-chatGoogleGenerativeAI-ChatGoogleGenerativeAI|LangchainChatGoogleGenerativeAI|BaseChatModel|BaseLanguageModel|Runnable",
            "name": "chatGoogleGenerativeAI",
            "label": "ChatGoogleGenerativeAI",
            "description": "Wrapper around Google Gemini large language models that use the Chat endpoint",
            "type": "ChatGoogleGenerativeAI | LangchainChatGoogleGenerativeAI | BaseChatModel | BaseLanguageModel | Runnable"
          }
        ],
        "outputs": {},
        "selected": false
      },
      "width": 300,
      "height": 676,
      "selected": false,
      "positionAbsolute": {
        "x": -627.8096031909182,
        "y": -98.8003338577914
      },
      "dragging": false
    }
  ],
  "edges": [
    {
      "source": "customMCP_0",
      "sourceHandle": "customMCP_0-output-customMCP-Tool",
      "target": "toolAgent_0",
      "targetHandle": "toolAgent_0-input-tools-Tool",
      "type": "buttonedge",
      "id": "customMCP_0-customMCP_0-output-customMCP-Tool-toolAgent_0-toolAgent_0-input-tools-Tool"
    },
    {
      "source": "bufferMemory_1",
      "sourceHandle": "bufferMemory_1-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory",
      "target": "toolAgent_0",
      "targetHandle": "toolAgent_0-input-memory-BaseChatMemory",
      "type": "buttonedge",
      "id": "bufferMemory_1-bufferMemory_1-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory-toolAgent_0-toolAgent_0-input-memory-BaseChatMemory"
    },
    {
      "source": "sequentialThinkingMCP_0",
      "sourceHandle": "sequentialThinkingMCP_0-output-sequentialThinkingMCP-Tool",
      "target": "toolAgent_0",
      "targetHandle": "toolAgent_0-input-tools-Tool",
      "type": "buttonedge",
      "id": "sequentialThinkingMCP_0-sequentialThinkingMCP_0-output-sequentialThinkingMCP-Tool-toolAgent_0-toolAgent_0-input-tools-Tool"
    },
    {
      "source": "currentDateTime_0",
      "sourceHandle": "currentDateTime_0-output-currentDateTime-CurrentDateTime|Tool",
      "target": "toolAgent_0",
      "targetHandle": "toolAgent_0-input-tools-Tool",
      "type": "buttonedge",
      "id": "currentDateTime_0-currentDateTime_0-output-currentDateTime-CurrentDateTime|Tool-toolAgent_0-toolAgent_0-input-tools-Tool"
    },
    {
      "source": "chatGoogleGenerativeAI_0",
      "sourceHandle": "chatGoogleGenerativeAI_0-output-chatGoogleGenerativeAI-ChatGoogleGenerativeAI|LangchainChatGoogleGenerativeAI|BaseChatModel|BaseLanguageModel|Runnable",
      "target": "toolAgent_0",
      "targetHandle": "toolAgent_0-input-model-BaseChatModel",
      "type": "buttonedge",
      "id": "chatGoogleGenerativeAI_0-chatGoogleGenerativeAI_0-output-chatGoogleGenerativeAI-ChatGoogleGenerativeAI|LangchainChatGoogleGenerativeAI|BaseChatModel|BaseLanguageModel|Runnable-toolAgent_0-toolAgent_0-input-model-BaseChatModel"
    }
  ]
}